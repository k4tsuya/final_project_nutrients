{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Bitamin Dashboard</title>
        <link rel="shortcut icon" type="image/x-icon" href="{% static 'images/bitamin_icon_transparent.png' %}" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=League+Spartan:wght@100..900&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

</head>
<body>
<body>

<div class="grid-container">
    <div class="logo">
        <video id="bitaminLogo" autoplay muted playsinline preload="auto" onloadstart="this.playbackRate = 0.75;">
            <source src="static/images/bitamin_logo_lt.mp4" type="video/mp4">
            Your browser does not support the video tag.
        </video>

</div>



    <nav class="menu">
        <button class="icon-button" onclick="toggleMenu()">
            <img src="static/images/bitamin_icon_transparent.png" alt="Toggle Menu" />
        </button>
        <ul id="menuList">
            <li><a href="register.html">Register</a></li>
            <li><a href="login.html">Login</a></li>
            <li><a href="#">Search</a></li>
            <li><a href="#">Recipes</a></li>
            <li><a href="#">About Us</a></li>
            <li><a href="#">Contact Us</a></li>
    </ul>
    <button onclick="toggleDarkMode()" id="darkModeBtn" class="dark-mode-btn" title="Toggle Dark Mode">
        <i class="fas fa-moon"></i>
    </button>
</nav>

<div class="chart1">
    <h1>Vitamins</h1>
    <canvas id="myChart"></canvas>
</div>

<div class="chart2">
    <h1>Minerals</h1>
    <canvas id="myChart2"></canvas>
</div>

<div class="chart3">
    <h1>Hydration</h1>
    <canvas id="myChart3"></canvas>
</div>

<div class="links"><p>***Links to socials? or something else??***</p></div>

</div>
</body>
</html>


<script>
    // Chart.js initialization
    const ctx = document.getElementById('myChart').getContext('2d');
    new Chart(ctx, {
        type: 'doughnut',
        data: {
        labels: ['Vitamin A', 'Vitamin B12', 'Vitamin C', 'Vitamnin D'],
        datasets: [{
            label: 'Example Dataset',
            data: [12, 19, 3, 5],
            backgroundColor: ['#bb3e00', '#f7ad45', '#657c6a', '#79ADDC'],
            borderWidth: 1
        }]
        },
        options: {
        responsive: true,
        scales: {
            y: {
            beginAtZero: true
            }
        }
        }
    });

    const ctx2 = document.getElementById('myChart2').getContext('2d');
    new Chart(ctx2, {
        type: 'doughnut',
        data: {
            labels: ['Calcium', 'Magnesium', 'Potassium', 'Iron'],
            datasets: [{
                label: 'Another Dataset',
                data: [8, 14, 9, 6],
                backgroundColor: ['#bb3e00', '#f7ad45', '#657c6a', '#79ADDC'],
                borderWidth: 1,
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    })

    const ctx3 = document.getElementById('myChart3').getContext('2d');
    new Chart(ctx3, {
        type: 'pie',
        data: {
            labels: ['Consumed', 'Remaining'],
            datasets: [{
                data: [6,4],
                backgroundColor: ['#79ADDC', '#bb3e00'],
                borderWidth: 0,
            }]
        },
        options: {
            responsive: true,
            scales: {
                y: {
                    beginAtZero: true
                }
            }
        }
    })

    // Toggle menu function for small screens
    function toggleMenu() {
        const menu = document.getElementById('menuList');
        menu.style.display = (menu.style.display === 'none' || menu.style.display === '') ? 'block' : 'none';
    }

    function toggleDarkMode() {
    document.body.classList.toggle("dark-mode");

    const video = document.getElementById("bitaminLogo");
    const source = video.querySelector("source");
    const isDarkMode = document.body.classList.contains("dark-mode");

    source.src = isDarkMode ? "{% static 'images/bitamin_logo_dk.mp4'%}"  : "{% static 'images/bitamin_logo_lt.mp4'%}";
    video.load();
    video.playbackRate = 0.75;
    video.play();

    // Toggle icon
    const icon = document.getElementById("darkModeBtn").querySelector("i");
    icon.className = isDarkMode ? "fas fa-sun" : "fas fa-moon";
}

</script>

<!-- <!DOCTYPE html>
<html>
    <head>
        <title>Home</title>
    </head>
    <body>
        <h1>Home</h1>
        <a href="{% url 'register' %}">Register</a>
        <a href="{% url 'login' %}">Login</a>
        {% if user.is_authenticated %}
            <a href="{% url 'logout' %}">Logout</a>
        {% else %}
            <p>You are not logged in</p>
        {% endif %}
    </body>
</html> -->